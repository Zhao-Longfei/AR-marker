// handeye_test.cpp : 定义控制台应用程序的入口点。
//

#include "handeye.h"
#include "tchar.h"


using namespace std;
int _tmain(int argc, _TCHAR* argv[])
{
	//Potentiometer,Euler,10700ms,13305ms，232651min11013ms//
	double a1[4][4] = { -0.955298, -0.0162386, -0.295199, 0,
						0.294593, 0.0318961, -0.95509, 0,
						0.0249248, -0.999359, -0.0256855, 0,
						0, 0, 0, 1 };
	/*double a2[4][4] = { -0.318014, 0.0782117, -0.944855, 0,
						0.946775, 0.0785845, -0.312155, 0,
						0.0498367, -0.993835, -0.0990399,0,
						0, 0, 0, 1 };
	*/
	double a2[4][4] = { -0.989394  ,  0.12861, -0.0675141,0,
						0.124338  , 0.509593 ,-0.851384,0,
						-0.0750919, -0.850749, -0.520179,0,
						0,0,0,1 };
	//AR maker,Quaternion,10711ms,13300ms，232651min11000ms//
	double b1[4][4] = { 0.885965, -0.231244, -0.401985, 0,
						-0.10838, -0.946051, 0.305354, 0,
						-0.45091, -0.226966, -0.86323, 0,
						0, 0, 0, 1 };
	/*double b2[4][4] = { 0.805232, 0.578393, -0.130629, 0,
						0.585264, -0.739875, 0.331739, 0,
						0.0952257, -0.343579, -0.934283, 0,
						0, 0, 0, 1 };
	*/
	double b2[4][4] = { 0.0428582  , 0.98129 ,-0.187707,0,
						0.90044, 0.0434621,  0.432804,0,
						0.432864, -0.187568, -0.88173,0,
						0,0,0,1 };


	Mat A1(4, 4, CV_64FC1, a1);
	Mat A2(4, 4, CV_64FC1, a2);
	Mat B1(4, 4, CV_64FC1, b1);
	Mat B2(4, 4, CV_64FC1, b2);

	vector<Mat> Hgij;
	vector<Mat> Hcij;

	Hgij.push_back(A1);
	Hgij.push_back(A2);
	Hcij.push_back(B1);
	Hcij.push_back(B2);

	Mat Hcg(4, 4, CV_64FC1);
	Tsai_HandEye(Hcg, Hgij, Hcij);

	cout << "Hcg"<<Hcg << endl << endl;






	return 0;
}

/*[0.6530031635738726, 0.754712416766035, 0.06321420996646843, 0;
 0.1680070647414041, -0.06296533768625048, -0.9837728357944399, 0;
 -0.7384852703740892, 0.6530272078782223, -0.1679135825693716, 0;
 0, 0, 0, 1]
*/
